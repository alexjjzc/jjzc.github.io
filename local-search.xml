<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>对WebSocket计算器优化</title>
    <link href="/2024/07/06/%E5%AF%B9WebSocket%E8%AE%A1%E7%AE%97%E5%99%A8%E4%BC%98%E5%8C%96/"/>
    <url>/2024/07/06/%E5%AF%B9WebSocket%E8%AE%A1%E7%AE%97%E5%99%A8%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="对WebSocket计算器优化"><a href="#对WebSocket计算器优化" class="headerlink" title="对WebSocket计算器优化"></a>对WebSocket计算器优化</h1><span id="more"></span><p>上期我们设计开发了一个简单的WebSocket计算器，但是界面过于简陋，所以本期我们对界面进行一定的优化调整。</p><p>上期博客链接：</p><h2 id="第一次优化效果展示："><a href="#第一次优化效果展示：" class="headerlink" title="第一次优化效果展示："></a>第一次优化效果展示：</h2><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_14_1_15_202407051401657.png"></p><h2 id="第一次优化代码如下："><a href="#第一次优化代码如下：" class="headerlink" title="第一次优化代码如下："></a>第一次优化代码如下：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Arial&#x27;</span>, sans-serif;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 蓝色字体 */</span></span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">flex-direction</span>: column;</span><br><span class="language-css">            <span class="hljs-attribute">align-items</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">h1</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.5em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 蓝色标题 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.status</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.button-container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>; <span class="hljs-comment">/* 增加与输入框的距离 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">button</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 蓝色按钮 */</span></span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.3s</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#009acd</span>; <span class="hljs-comment">/* 深一点的蓝色 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-class">.result</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 蓝色结果 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;status&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;status&quot;</span>&gt;</span>连接中...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;a&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;数字A&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;b&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;数字B&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button-container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;add&#x27;)&quot;</span>&gt;</span>加<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;subtract&#x27;)&quot;</span>&gt;</span>减<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;multiply&#x27;)&quot;</span>&gt;</span>乘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;divide&#x27;)&quot;</span>&gt;</span>除<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;result&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">&quot;ws://localhost:8080/ws&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onopen</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;status&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;已连接&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> result = event.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;result&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;计算结果是: &quot;</span> + result;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;status&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;错误！&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onclose</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;status&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;未连接！&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendOperation</span>(<span class="hljs-params">op</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;a&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> b = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;b&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(a) || <span class="hljs-built_in">isNaN</span>(b)) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;请输入有效数字！&quot;</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            socket.<span class="hljs-title function_">send</span>(op + <span class="hljs-string">&quot; &quot;</span> + a + <span class="hljs-string">&quot; &quot;</span> + b);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>但是界面依然显得有些单调，我们对输出结果以及输入框做一个调整。</p><h2 id="第二次优化效果展示："><a href="#第二次优化效果展示：" class="headerlink" title="第二次优化效果展示："></a>第二次优化效果展示：</h2><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_14_29_20_202407051429489.png"></p><h2 id="第二次优化代码如下："><a href="#第二次优化代码如下：" class="headerlink" title="第二次优化代码如下："></a>第二次优化代码如下：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Roboto&#x27;</span>, Arial, sans-serif;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">h1</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">align-items</span>: flex-start;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">form</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: left;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">135</span>, <span class="hljs-number">206</span>, <span class="hljs-number">235</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为天蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">label</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;text&quot;</span>]</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#303030</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        select &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#303030</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色文字 */</span></span><br><span class="language-css">            appearance: none;</span><br><span class="language-css">            -webkit-appearance: none;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        select<span class="hljs-selector-pseudo">::after</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;▼&#x27;</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色箭头 */</span></span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">            <span class="hljs-attribute">right</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">top</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">pointer-events</span>: none;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.button-group</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: space-between;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;submit&quot;</span>]</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;reset&quot;</span>]</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色背景 */</span></span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.3s</span> ease;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">48%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;submit&quot;</span>]</span><span class="hljs-selector-pseudo">:hover</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;reset&quot;</span>]</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#add8e6</span>; <span class="hljs-comment">/* 改为深天蓝色背景 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#result-container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">135</span>, <span class="hljs-number">206</span>, <span class="hljs-number">235</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为天蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#result</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#87ceeb</span>; <span class="hljs-comment">/* 改为天蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;calcForm&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;num1&quot;</span>&gt;</span>数值 1:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;num1&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;num1&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;num2&quot;</span>&gt;</span>数值 2:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;num2&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;num2&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;op&quot;</span>&gt;</span>运算类型:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;op&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;op&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>加法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;subtract&quot;</span>&gt;</span>减法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;multiply&quot;</span>&gt;</span>乘法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;divide&quot;</span>&gt;</span>除法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button-group&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;计算&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;重置&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result-container&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span>结果将在这里显示<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;calcForm&#x27;</span>).<span class="hljs-property">onsubmit</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">            event.<span class="hljs-title function_">preventDefault</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> num1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;num1&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> num2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;num2&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> op = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;op&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/calculate?op=<span class="hljs-subst">$&#123;op&#125;</span>&amp;num1=<span class="hljs-subst">$&#123;num1&#125;</span>&amp;num2=<span class="hljs-subst">$&#123;num2&#125;</span>`</span>)</span><br><span class="language-javascript">                .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">text</span>())</span><br><span class="language-javascript">                .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">const</span> resultText = data.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;计算结果为：&quot;</span>, <span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">trim</span>(); <span class="hljs-comment">// 去掉前缀</span></span><br><span class="language-javascript">                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;result&#x27;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">`计算结果为：<span class="hljs-subst">$&#123;resultText&#125;</span>`</span>;</span><br><span class="language-javascript">                &#125;);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;calcForm&#x27;</span>).<span class="hljs-property">onreset</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;result&#x27;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;结果将在这里显示&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>界面有所改观，但是计算器怎么可以没有存储功能呢，我们给他添加一个历史记录栏，同时保持记录在最上方！</p><h2 id="第三次优化效果展示："><a href="#第三次优化效果展示：" class="headerlink" title="第三次优化效果展示："></a>第三次优化效果展示：</h2><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_14_38_49_202407051438761.png"></p><h2 id="第三次优化代码如下："><a href="#第三次优化代码如下：" class="headerlink" title="第三次优化代码如下："></a>第三次优化代码如下：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Roboto&#x27;</span>, Arial, sans-serif;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">h1</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">align-items</span>: flex-start;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">form</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: left;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">191</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为亮蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">label</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;text&quot;</span>]</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#303030</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        select &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#303030</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">            appearance: none;</span><br><span class="language-css">            -webkit-appearance: none;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        select<span class="hljs-selector-pseudo">::after</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;▼&#x27;</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色箭头 */</span></span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">            <span class="hljs-attribute">right</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">top</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">pointer-events</span>: none;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.button-group</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: space-between;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;submit&quot;</span>]</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;reset&quot;</span>]</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色背景 */</span></span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.3s</span> ease;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">48%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;submit&quot;</span>]</span><span class="hljs-selector-pseudo">:hover</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;reset&quot;</span>]</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00a0e9</span>; <span class="hljs-comment">/* 改为深亮蓝色背景 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#result-container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">191</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为亮蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#result</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#history-container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">191</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为亮蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: left;</span><br><span class="language-css">            <span class="hljs-attribute">overflow-y</span>: auto;</span><br><span class="language-css">            <span class="hljs-attribute">max-height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#history-container</span> <span class="hljs-selector-tag">h2</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#history</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">max-height</span>: <span class="hljs-number">350px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">overflow-y</span>: auto;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.history-item</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;calcForm&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;num1&quot;</span>&gt;</span>数值 1:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;num1&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;num1&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;num2&quot;</span>&gt;</span>数值 2:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;num2&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;num2&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;op&quot;</span>&gt;</span>运算类型:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;op&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;op&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>加法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;subtract&quot;</span>&gt;</span>减法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;multiply&quot;</span>&gt;</span>乘法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;divide&quot;</span>&gt;</span>除法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button-group&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;计算&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;重置&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result-container&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span>结果将在这里显示<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;history-container&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>历史计算结果<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;history&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;calcForm&#x27;</span>).<span class="hljs-property">onsubmit</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">            event.<span class="hljs-title function_">preventDefault</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> num1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;num1&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> num2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;num2&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> op = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;op&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">// 这里假设有一个WebSocket服务器在运行</span></span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> result = <span class="hljs-title function_">calculate</span>(num1, num2, op); <span class="hljs-comment">// 替换为实际的计算逻辑</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;result&#x27;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">`计算结果为：<span class="hljs-subst">$&#123;result&#125;</span>`</span>;</span><br><span class="language-javascript">            <span class="hljs-title function_">addHistory</span>(result);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;calcForm&#x27;</span>).<span class="hljs-property">onreset</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;result&#x27;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;结果将在这里显示&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">addHistory</span>(<span class="hljs-params">result</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> historyContainer = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;history&#x27;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> historyItem = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);</span><br><span class="language-javascript">            historyItem.<span class="hljs-property">className</span> = <span class="hljs-string">&#x27;history-item&#x27;</span>;</span><br><span class="language-javascript">            historyItem.<span class="hljs-property">innerText</span> = result;</span><br><span class="language-javascript">            historyContainer.<span class="hljs-title function_">prepend</span>(historyItem); <span class="hljs-comment">// 使用 prepend 方法将新历史记录添加到顶部</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">num1, num2, op</span>) &#123;</span><br><span class="language-javascript">            num1 = <span class="hljs-built_in">parseFloat</span>(num1);</span><br><span class="language-javascript">            num2 = <span class="hljs-built_in">parseFloat</span>(num2);</span><br><span class="language-javascript">            <span class="hljs-keyword">switch</span> (op) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;add&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 + num2;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;subtract&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 - num2;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;multiply&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 * num2;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;divide&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 / num2;</span><br><span class="language-javascript">                <span class="hljs-attr">default</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NaN</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>虽然能够存储历史结果了，但是不知道运算的过程，这怎么能缺呢，加上！</p><h2 id="第四次优化效果展示："><a href="#第四次优化效果展示：" class="headerlink" title="第四次优化效果展示："></a>第四次优化效果展示：</h2><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_14_35_5_202407051435241.png"></p><h2 id="第四次优化代码如下："><a href="#第四次优化代码如下：" class="headerlink" title="第四次优化代码如下："></a>第四次优化代码如下：</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;Roboto&#x27;</span>, Arial, sans-serif;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">h1</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">            <span class="hljs-attribute">align-items</span>: flex-start;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">form</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: left;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">191</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为亮蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">label</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;text&quot;</span>]</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#303030</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        select &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#303030</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">            appearance: none;</span><br><span class="language-css">            -webkit-appearance: none;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        select<span class="hljs-selector-pseudo">::after</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;▼&#x27;</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色箭头 */</span></span><br><span class="language-css">            <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">            <span class="hljs-attribute">right</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">top</span>: <span class="hljs-number">12px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">pointer-events</span>: none;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.button-group</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: space-between;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;submit&quot;</span>]</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;reset&quot;</span>]</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色背景 */</span></span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#121212</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.3s</span> ease;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">48%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;submit&quot;</span>]</span><span class="hljs-selector-pseudo">:hover</span>,</span><br><span class="language-css">        <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;reset&quot;</span>]</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#00a0e9</span>; <span class="hljs-comment">/* 改为深亮蓝色背景 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#result-container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">191</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为亮蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#result</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#history-container</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色边框 */</span></span><br><span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#1e1e1e</span>;</span><br><span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">191</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>); <span class="hljs-comment">/* 改为亮蓝色阴影 */</span></span><br><span class="language-css">            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: left;</span><br><span class="language-css">            <span class="hljs-attribute">overflow-y</span>: auto;</span><br><span class="language-css">            <span class="hljs-attribute">max-height</span>: <span class="hljs-number">500px</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#history-container</span> <span class="hljs-selector-tag">h2</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#history</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">max-height</span>: <span class="hljs-number">350px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">overflow-y</span>: auto;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.history-item</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#00bfff</span>; <span class="hljs-comment">/* 改为亮蓝色文字 */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;calcForm&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;num1&quot;</span>&gt;</span>数值 1:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;num1&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;num1&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;num2&quot;</span>&gt;</span>数值 2:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;num2&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;num2&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;op&quot;</span>&gt;</span>运算类型:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;op&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;op&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>加法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;subtract&quot;</span>&gt;</span>减法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;multiply&quot;</span>&gt;</span>乘法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;divide&quot;</span>&gt;</span>除法<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button-group&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;计算&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;重置&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result-container&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span>结果将在这里显示<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;history-container&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>历史计算结果<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;history&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;calcForm&#x27;</span>).<span class="hljs-property">onsubmit</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">            event.<span class="hljs-title function_">preventDefault</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> num1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;num1&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> num2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;num2&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> op = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;op&#x27;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-comment">// 这里假设有一个WebSocket服务器在运行</span></span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> result = <span class="hljs-title function_">calculate</span>(num1, num2, op); <span class="hljs-comment">// 替换为实际的计算逻辑</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;result&#x27;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">`计算结果为：<span class="hljs-subst">$&#123;result&#125;</span>`</span>;</span><br><span class="language-javascript">            <span class="hljs-title function_">addHistory</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;num1&#125;</span> <span class="hljs-subst">$&#123;getOpSymbol(op)&#125;</span> <span class="hljs-subst">$&#123;num2&#125;</span> = <span class="hljs-subst">$&#123;result&#125;</span>`</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;calcForm&#x27;</span>).<span class="hljs-property">onreset</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;result&#x27;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;结果将在这里显示&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">addHistory</span>(<span class="hljs-params">entry</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> historyContainer = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;history&#x27;</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> historyItem = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);</span><br><span class="language-javascript">            historyItem.<span class="hljs-property">className</span> = <span class="hljs-string">&#x27;history-item&#x27;</span>;</span><br><span class="language-javascript">            historyItem.<span class="hljs-property">innerText</span> = entry;</span><br><span class="language-javascript">            historyContainer.<span class="hljs-title function_">prepend</span>(historyItem); <span class="hljs-comment">// 使用 prepend 方法将新历史记录添加到顶部</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getOpSymbol</span>(<span class="hljs-params">op</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">switch</span> (op) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;add&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;+&#x27;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;subtract&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;-&#x27;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;multiply&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;*&#x27;</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;divide&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;/&#x27;</span>;</span><br><span class="language-javascript">                <span class="hljs-attr">default</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">num1, num2, op</span>) &#123;</span><br><span class="language-javascript">            num1 = <span class="hljs-built_in">parseFloat</span>(num1);</span><br><span class="language-javascript">            num2 = <span class="hljs-built_in">parseFloat</span>(num2);</span><br><span class="language-javascript">            <span class="hljs-keyword">switch</span> (op) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;add&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 + num2;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;subtract&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 - num2;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;multiply&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 * num2;</span><br><span class="language-javascript">                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;divide&#x27;</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> num1 / num2;</span><br><span class="language-javascript">                <span class="hljs-attr">default</span>:</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-title class_">NaN</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>这样看着岂不美哉！</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_14_37_41_202407051437942.png"></p></div><hr><div align = "center"><ul><li>本文作者原创，版权归作者所有，任何形式转载请联系授权，未经授权，转载必究！！！</li></ul></div>]]></content>
    
    
    <categories>
      
      <category>FFI, WebSocket</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Go, C, FFI, WebSocket</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用WebSocket和C语言实现一个简单的计算器</title>
    <link href="/2024/07/05/%E4%BD%BF%E7%94%A8WebSocket%E5%92%8CC%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
    <url>/2024/07/05/%E4%BD%BF%E7%94%A8WebSocket%E5%92%8CC%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="使用WebSocket和C语言实现一个简单的计算器"><a href="#使用WebSocket和C语言实现一个简单的计算器" class="headerlink" title="使用WebSocket和C语言实现一个简单的计算器"></a>使用WebSocket和C语言实现一个简单的计算器</h1><span id="more"></span><p>在现代Web开发中，WebSocket已经成为实时通信的重要工具。本文将介绍如何使用WebSocket与C语言结合，实现一个简单的计算器应用。我们将通过Go语言作为中间层，调用C语言编写的计算函数，并通过WebSocket与前端进行交互。</p><h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><p>我们的项目包含以下几个文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">project/<br>├── calc.c<br>├── calc.h<br>├── client/<br>│   └── index.html<br>├── go.mod<br>├── go.sum<br>└── main.go<br></code></pre></td></tr></table></figure><h1 id="C语言部分"><a href="#C语言部分" class="headerlink" title="C语言部分"></a>C语言部分</h1><h2 id="calc-h"><a href="#calc-h" class="headerlink" title="calc.h"></a>calc.h</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> CALC_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CALC_H</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">subtract</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">divide</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>calc.h</code> 是一个头文件，定义了四个函数原型：<code>add</code>、<code>subtract</code>、<code>multiply</code> 和 <code>divide</code>。这些函数将用于执行基本的数学运算。</p><h2 id="calc-c"><a href="#calc-c" class="headerlink" title="calc.c"></a>calc.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;calc.h&quot;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">subtract</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-keyword">return</span> a - b;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-keyword">return</span> a * b;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">divide</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> a / b;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>calc.c</code> 文件实现了 <code>calc.h</code> 中定义的四个函数。每个函数分别执行加、减、乘、除运算。注意，在除法运算中，我们检查了除数是否为零，以避免除零错误。</p><h1 id="Go语言部分"><a href="#Go语言部分" class="headerlink" title="Go语言部分"></a>Go语言部分</h1><h2 id="main-go"><a href="#main-go" class="headerlink" title="main.go"></a>main.go</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;net/http&quot;</span><br>    <span class="hljs-string">&quot;github.com/gorilla/websocket&quot;</span><br>)<br><br><span class="hljs-comment">// #cgo LDFLAGS: -L. -lcalc</span><br><span class="hljs-comment">// #include &quot;calc.h&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;C&quot;</span><br><br><span class="hljs-keyword">var</span> upgrader = websocket.Upgrader&#123;<br>    ReadBufferSize:  <span class="hljs-number">1024</span>,<br>    WriteBufferSize: <span class="hljs-number">1024</span>,<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handleWebSocket</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;<br>    conn, err := upgrader.Upgrade(w, r, <span class="hljs-literal">nil</span>)<br>    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>        fmt.Println(<span class="hljs-string">&quot;Failed to upgrade to WebSocket:&quot;</span>, err)<br>        <span class="hljs-keyword">return</span><br>    &#125;<br>    <span class="hljs-keyword">defer</span> conn.Close()<br><br>    <span class="hljs-keyword">for</span> &#123;<br>        _, message, err := conn.ReadMessage()<br>        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>            fmt.Println(<span class="hljs-string">&quot;Read error:&quot;</span>, err)<br>            <span class="hljs-keyword">break</span><br>        &#125;<br><br>        <span class="hljs-keyword">var</span> result <span class="hljs-type">int</span><br>        <span class="hljs-keyword">var</span> op <span class="hljs-type">string</span><br>        <span class="hljs-keyword">var</span> a, b <span class="hljs-type">int</span><br>        fmt.Sscanf(<span class="hljs-type">string</span>(message), <span class="hljs-string">&quot;%s %d %d&quot;</span>, &amp;op, &amp;a, &amp;b)<br><br>        <span class="hljs-keyword">switch</span> op &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;add&quot;</span>:<br>            result = <span class="hljs-type">int</span>(C.add(C.<span class="hljs-type">int</span>(a), C.<span class="hljs-type">int</span>(b)))<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;subtract&quot;</span>:<br>            result = <span class="hljs-type">int</span>(C.subtract(C.<span class="hljs-type">int</span>(a), C.<span class="hljs-type">int</span>(b)))<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;multiply&quot;</span>:<br>            result = <span class="hljs-type">int</span>(C.multiply(C.<span class="hljs-type">int</span>(a), C.<span class="hljs-type">int</span>(b)))<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;divide&quot;</span>:<br>            result = <span class="hljs-type">int</span>(C.divide(C.<span class="hljs-type">int</span>(a), C.<span class="hljs-type">int</span>(b)))<br>        <span class="hljs-keyword">default</span>:<br>            result = <span class="hljs-number">0</span><br>        &#125;<br><br>        err = conn.WriteMessage(websocket.TextMessage, []<span class="hljs-type">byte</span>(fmt.Sprintf(<span class="hljs-string">&quot;%d&quot;</span>, result)))<br>        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>            fmt.Println(<span class="hljs-string">&quot;Write error:&quot;</span>, err)<br>            <span class="hljs-keyword">break</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    http.HandleFunc(<span class="hljs-string">&quot;/ws&quot;</span>, handleWebSocket)<br>    http.Handle(<span class="hljs-string">&quot;/&quot;</span>, http.FileServer(http.Dir(<span class="hljs-string">&quot;./client&quot;</span>)))<br>    fmt.Println(<span class="hljs-string">&quot;WebSocket server started at :8080/ws&quot;</span>)<br>    fmt.Println(<span class="hljs-string">&quot;Static file server started at:8080&quot;</span>)<br>    http.ListenAndServe(<span class="hljs-string">&quot;:8080&quot;</span>, <span class="hljs-literal">nil</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p><code>main.go</code> 文件是Go语言编写的WebSocket服务器。主要功能如下：</p><ol><li><strong>导入必要的包</strong>：包括 <code>fmt</code>、<code>net/http</code> 和 <code>github.com/gorilla/websocket</code>。</li><li><strong>导入C语言库</strong>：通过 <code>#cgo LDFLAGS</code> 和 <code>#include &quot;calc.h&quot;</code> 导入C语言编写的计算函数。</li><li><strong>设置WebSocket升级器</strong>：使用 <code>websocket.Upgrader</code> 来处理WebSocket连接。</li><li><strong>处理WebSocket连接</strong>：在 <code>handleWebSocket</code> 函数中，处理WebSocket连接的建立、消息的读取和发送。根据接收到的消息，调用相应的C语言函数进行计算，并将结果发送回客户端。</li><li><strong>启动HTTP服务器</strong>：在 <code>main</code> 函数中，设置WebSocket处理函数和静态文件服务器，并启动HTTP服务器监听端口8080。</li></ol><h1 id="前端部分"><a href="#前端部分" class="headerlink" title="前端部分"></a>前端部分</h1><h2 id="client-index-html"><a href="#client-index-html" class="headerlink" title="client&#x2F;index.html"></a>client&#x2F;index.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">&quot;ws://localhost:8080/ws&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onopen</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebSocket connection opened&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;status&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;已连接&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> result = event.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;result&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;计算结果是: &quot;</span> + result;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;WebSocket error: &quot;</span> + error);</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;status&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;错误！&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        socket.<span class="hljs-property">onclose</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebSocket connection closed&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;status&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;未连接！&quot;</span>;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendOperation</span>(<span class="hljs-params">op</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;a&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> b = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;b&quot;</span>).<span class="hljs-property">value</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-comment">// 验证输入是否为数字</span></span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(a) || <span class="hljs-built_in">isNaN</span>(b)) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;请输入有效数字！&quot;</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            socket.<span class="hljs-title function_">send</span>(op + <span class="hljs-string">&quot; &quot;</span> + a + <span class="hljs-string">&quot; &quot;</span> + b);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>WebSocket计算器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;status&quot;</span>&gt;</span>连接中...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;a&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入有效数字A ！&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;b&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入有效数字B ！&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;add&#x27;)&quot;</span>&gt;</span>加<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;subtract&#x27;)&quot;</span>&gt;</span>减<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;multiply&#x27;)&quot;</span>&gt;</span>乘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;sendOperation(&#x27;divide&#x27;)&quot;</span>&gt;</span>除<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>index.html</code> 文件是前端页面，主要功能如下：</p><ol><li><strong>建立WebSocket连接</strong>：通过 <code>new WebSocket(&quot;ws://localhost:8080/ws&quot;)</code> 建立与服务器的WebSocket连接。</li><li><strong>处理WebSocket事件</strong>：包括连接打开、消息接收、错误处理和连接关闭事件。</li><li><strong>发送操作</strong>：通过 <code>sendOperation</code> 函数，获取用户输入的两个数字，并根据用户选择的操作（加、减、乘、除）发送相应的消息到服务器。</li><li><strong>显示结果</strong>：在接收到服务器返回的结果后，将其显示在页面上。</li></ol><h1 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h1><p>在项目目录中，运行以下命令来安装所需的Go模块依赖：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">go</span> mod tidy<br></code></pre></td></tr></table></figure><p>这个命令会读取 <code>go.mod</code> 文件中的依赖声明，并自动下载这些依赖包。同时，它会生成或更新 <code>go.sum</code> 文件，该文件包含了依赖包的校验和，确保下载的依赖包是完整和安全的。</p><h1 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h1><h3 id="1-编译C语言代码："><a href="#1-编译C语言代码：" class="headerlink" title="1.编译C语言代码："></a><strong>1.编译C语言代码：</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gcc -c calc.c -o calc.o<br>ar rcs libcalc.a calc.o<br></code></pre></td></tr></table></figure><h3 id="2-运行Go语言服务器："><a href="#2-运行Go语言服务器：" class="headerlink" title="2.运行Go语言服务器："></a><strong>2.运行Go语言服务器：</strong></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">go</span> run main.<span class="hljs-keyword">go</span><br></code></pre></td></tr></table></figure><h3 id="3-访问"><a href="#3-访问" class="headerlink" title="3.访问"></a>3.访问</h3><p>打开浏览器，访问 <a href="http://localhost:8080，即可看到前端页面，输入数字并点击相应的按钮，即可进行计算。">http://localhost:8080，即可看到前端页面，输入数字并点击相应的按钮，即可进行计算。</a></p><p>项目在终端运行成功，会出现如下图所示的内容：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_12_59_27_202407051259376.png"></p><p>接下来我们通过浏览器访问  <a href="http://localhost:8080/">http://localhost:8080</a> ，内容如下图所示：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_12_21_10_202407051221667.png"></p><p>我们可以通过在输入框中输入需要计算的数据，再点击右侧的运算方式按钮，便可得到运算结果，如图所示：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_12_58_38_202407051258867.png"></p><p>如果觉得界面过于简陋，不好看，那么我们对这个界面进行一些调整，如下图所示：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/5_13_57_5_202407051357380.png"></p><p>更多优化细节请参考下一篇！</p></div><hr><div align = "center"><ul><li>本文作者原创，版权归作者所有，任何形式转载请联系授权，未经授权，转载必究！！！</li></ul></div>]]></content>
    
    
    <categories>
      
      <category>FFI, WebSocket</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Go, C, FFI, WebSocket</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Go语言与C语言进行FFI集成连接</title>
    <link href="/2024/07/03/Go%E8%AF%AD%E8%A8%80%E4%B8%8EC%E8%AF%AD%E8%A8%80%E8%BF%9B%E8%A1%8CFFI%E9%9B%86%E6%88%90%E8%BF%9E%E6%8E%A5/"/>
    <url>/2024/07/03/Go%E8%AF%AD%E8%A8%80%E4%B8%8EC%E8%AF%AD%E8%A8%80%E8%BF%9B%E8%A1%8CFFI%E9%9B%86%E6%88%90%E8%BF%9E%E6%8E%A5/</url>
    
    <content type="html"><![CDATA[<h1 id="Go语言与C语言进行FFI集成连接"><a href="#Go语言与C语言进行FFI集成连接" class="headerlink" title="Go语言与C语言进行FFI集成连接"></a>Go语言与C语言进行FFI集成连接</h1><span id="more"></span><p>在现代软件开发中，多语言集成变得越来越普遍。Go（Golang）以其高效的并发处理和强大的网络编程能力受到广泛欢迎，而C语言则以其高效的底层控制和性能著称。有时我们需要在 Go 应用中调用已有的 C 库函数，为此我们可以使用 CGO 这个强大的工具。</p><p>下面是我实现的一个示例，通过 Go 语言与 C 语言进行 FFI（外部函数接口）集成，并创建一个能够通过网页按钮进行操作的简单 Web 应用。</p><h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><p>首先，让我们明确一下项目的目录结构：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">project/<br>├── myclib.c       <span class="hljs-comment"># C语言源文件</span><br>├── myclib.h       <span class="hljs-comment"># C语言头文件</span><br>├── libmyclib.a    <span class="hljs-comment"># 编译生成的C语言静态库文件</span><br>├── main.go        <span class="hljs-comment"># Go语言主程序</span><br>└── static/<br>    └── index.html <span class="hljs-comment"># HTML客户端页面</span><br></code></pre></td></tr></table></figure><h1 id="项目开发"><a href="#项目开发" class="headerlink" title="项目开发"></a>项目开发</h1><h2 id="1-编写C语言库"><a href="#1-编写C语言库" class="headerlink" title="1. 编写C语言库"></a>1. 编写C语言库</h2><p>我们将编写一个简单的 C 语言函数，并将其编译成静态库。</p><p>下面是一个简单的 C 函数，并通过它打印一条信息。</p><h3 id="myclib-h"><a href="#myclib-h" class="headerlink" title="myclib.h"></a><strong>myclib.h</strong></h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-meta">#ifndef MYCLIB_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MYCLIB_H</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">say_hello</span>()</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><h3 id="myclib-c"><a href="#myclib-c" class="headerlink" title="myclib.c"></a><strong>myclib.c</strong></h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cs"><span class="hljs-meta">#include &quot;myclib.h&quot;</span><br><span class="hljs-meta">#include &lt;stdio.h&gt;</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">say_hello</span>()</span> &#123;<br>    printf(<span class="hljs-string">&quot;Hello from C library!\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-编译C语言库"><a href="#2-编译C语言库" class="headerlink" title="2. 编译C语言库"></a>2. 编译C语言库</h2><p>我们需要先编译 C 源文件，生成静态库文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gcc -c -o myclib.o myclib.c<br>ar rcs libmyclib.a myclib.o<br></code></pre></td></tr></table></figure><p>注：可通过 CMD，也可以通过 IDE 中的终端进行编译。</p><p>这会在当前目录下生成 libmyclib.a 静态库文件。</p><h2 id="3-编写Go语言代码"><a href="#3-编写Go语言代码" class="headerlink" title="3. 编写Go语言代码"></a>3. 编写Go语言代码</h2><p>我们将通过 CGO 在 Go 程序中调用上述 C 函数，并通过 Go 的 HTTP 包提供一个简单的 Web 服务。</p><h3 id="main-go"><a href="#main-go" class="headerlink" title="main.go"></a><strong>main.go</strong></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">#cgo CFLAGS: -I.</span><br><span class="hljs-comment">#cgo LDFLAGS: -L. -lmyclib</span><br><span class="hljs-comment">#include &quot;myclib.h&quot;</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;C&quot;</span><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;net/http&quot;</span><br>)<br><br><span class="hljs-comment">// use Go to invoke C</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">callCFunction</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;<br>    C.say_hello()<br>    fmt.Fprintf(w, <span class="hljs-string">&quot;Called C function successfully!\n&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">// configure routing</span><br>    http.HandleFunc(<span class="hljs-string">&quot;/call_c&quot;</span>, callCFunction)<br>    <span class="hljs-comment">// provide static file services</span><br>    http.Handle(<span class="hljs-string">&quot;/&quot;</span>, http.FileServer(http.Dir(<span class="hljs-string">&quot;static&quot;</span>)))<br>    fmt.Println(<span class="hljs-string">&quot;Server started at http://localhost:8080&quot;</span>)<br>    <span class="hljs-keyword">if</span> err := http.ListenAndServe(<span class="hljs-string">&quot;:8080&quot;</span>, <span class="hljs-literal">nil</span>); err != <span class="hljs-literal">nil</span> &#123;<br>        fmt.Println(<span class="hljs-string">&quot;Failed to start server:&quot;</span>, err)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>在这里，我们通过 CGO 链接了先前编译的 C 静态库，并在 HTTP 路由中设置了 &#x2F;call_c 路径来调用 C 语言函数。</p><h2 id="4-创建HTML客户端"><a href="#4-创建HTML客户端" class="headerlink" title="4. 创建HTML客户端"></a>4. 创建HTML客户端</h2><p>我们使用 HTML 和 JavaScript 来创建一个客户端页面，能够通过按钮点击发起 HTTP 请求并调用我们的 Go 函数，这个 Go 函数会调用 C 函数。</p><h3 id="static-index-html"><a href="#static-index-html" class="headerlink" title="static&#x2F;index.html"></a><strong>static&#x2F;index.html</strong></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>FFI测试<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">callCFunction</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;/call_c&#x27;</span>)</span><br><span class="language-javascript">                .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">text</span>())</span><br><span class="language-javascript">                .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">alert</span>(data))</span><br><span class="language-javascript">                .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Error: &quot;</span> + error));</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;callCFunction()&quot;</span>&gt;</span>Call C Function<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="5-运行应用"><a href="#5-运行应用" class="headerlink" title="5. 运行应用"></a>5. 运行应用</h2><p>确保项目是在同一个目录下有编译产生的 C 语言库文件（即：libmyclib.a），然后运行 Go 代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">go run main.go<br></code></pre></td></tr></table></figure><p>此时，我们可以打开浏览器访问：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://localhost:8080<br></code></pre></td></tr></table></figure><p> 如图所示：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/3_17_21_23_202407031721922.png">在界面中会看到一个按钮。</p><p>点击这个按钮后会执行一次 HTTP 请求，请求到达 Go 服务器后，Go 服务器调用 C 函数并返回结果，最后在客户端弹出提示框显示结果。如图所示：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/3_17_23_16_202407031723082.png"></p><p>回到终端，我们可以看到在服务运行链接下面出现了新的连接成功输出语句：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/3_17_24_31_202407031724367.png"></p><p>如果我们后面有更复杂的需求，可以在此基础上继续扩展和优化。</p></div><hr><div align = "center"><ul><li>本文作者原创，版权归作者所有，任何形式转载请联系授权，未经授权，转载必究！！！</li></ul></div>]]></content>
    
    
    <categories>
      
      <category>FFI</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win, .ssh, Go, C, FFI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>win同台电脑中配置多个密钥</title>
    <link href="/2024/07/02/windows%E5%90%8C%E5%8F%B0%E7%94%B5%E8%84%91%E4%B8%AD%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AA%E5%AF%86%E9%92%A5/"/>
    <url>/2024/07/02/windows%E5%90%8C%E5%8F%B0%E7%94%B5%E8%84%91%E4%B8%AD%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AA%E5%AF%86%E9%92%A5/</url>
    
    <content type="html"><![CDATA[<h2 id="win同台电脑中配置多个密钥"><a href="#win同台电脑中配置多个密钥" class="headerlink" title="win同台电脑中配置多个密钥"></a>win同台电脑中配置多个密钥</h2><span id="more"></span><h2 id="1-背景"><a href="#1-背景" class="headerlink" title="1.背景"></a>1.背景</h2><p>想要在一台主机中配置多个仓库连接时，需要不同的 ssh 密钥来管理，比如：</p><ul><li>Github 仓库：用于自己个人的开发管理</li><li>Gitlab 仓库：用于公司内部开发管理</li></ul><p>各个仓库上传互不影响，该如何处理？</p><h2 id="2-前提"><a href="#2-前提" class="headerlink" title="2.前提"></a>2.前提</h2><p>本地环境下已安装部署完 Git 以及Node，此处不再多赘述。</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">Git官网: https:<span class="hljs-comment">//git-scm.com/</span><br></code></pre></td></tr></table></figure><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">Node</span><span class="hljs-title">官网: https</span>://nodejs.org/zh-cn<br></code></pre></td></tr></table></figure><h2 id="3-生成密钥"><a href="#3-生成密钥" class="headerlink" title="3.生成密钥"></a>3.生成密钥</h2><p>在本地 ”C:\Users\用户名\ .ssh\“ 中，通过 “Open git bash here” 打开 git 命令窗口，输入命令：</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs excel">ssh-keygen -<span class="hljs-built_in">t</span> rsa -C <span class="hljs-string">&quot;xxx邮箱@xxx邮箱地址.com&quot;</span> -f <span class="hljs-string">&quot;id_rsa_github&quot;</span><br>ssh-keygen -<span class="hljs-built_in">t</span> rsa -C <span class="hljs-string">&quot;xxx邮箱@xxx邮箱地址.com&quot;</span> -f <span class="hljs-string">&quot;id_rsa_gitee&quot;</span><br></code></pre></td></tr></table></figure><p>生成密钥的邮箱地址必须为对应仓库的注册邮箱！！！</p><p>密钥名称可以根据自己喜好更改，如：a_rsa、b_rsa</p><p>运行命令（以 gitee 为例）：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/2_16_55_3_202407021655054.png"></p><p>1处是设置密钥密码，可根据自己需求进行配置，这里不设置</p><p>2处确认密码，不输入直接回车</p><p>密钥存储位置也可以自定义，自定义输入命令：</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">ssh-keygen -<span class="hljs-built_in">t</span> rsa -C <span class="hljs-string">&quot;xxx邮箱@xxx邮箱地址.com&quot;</span><br></code></pre></td></tr></table></figure><p>但是自定义需要提前创建好空的文件，否则默认保存在在 ”C:\Users\用户名\ .ssh\“ 中，例如保存在 ”D:\ .ssh\“ 中，则需要创建好 ”.ssh“ 文件夹，在其中新建文件 ”a_rsa”（自己需要的密钥名称），新建好后，在1出需要输入路劲格式为：”&#x2F;d&#x2F;.ssh&#x2F;a_rsa“。</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/2_16_49_36_202407021649711.png"></p><p>2处 ”是否覆盖“ ,选择 “是”，输入 ”y” </p><p>3处是设置密钥密码，可根据自己需求进行配置，这里不设置</p><p>4处确认密码，不输入直接回车</p><h2 id="4-git-全局设置用户名及邮箱"><a href="#4-git-全局设置用户名及邮箱" class="headerlink" title="4.git 全局设置用户名及邮箱"></a>4.git 全局设置用户名及邮箱</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">// 输入仓库用户名</span><br>git config <span class="hljs-attr">--global</span> user<span class="hljs-selector-class">.name</span> <span class="hljs-string">&quot;用户名&quot;</span> <br><span class="hljs-comment">// 输入仓库邮箱</span><br>git config <span class="hljs-attr">--global</span> user<span class="hljs-selector-class">.email</span> <span class="hljs-string">&quot;邮箱&quot;</span><br></code></pre></td></tr></table></figure><p>查看已经设置的 git 全局信息：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">git config -l<br></code></pre></td></tr></table></figure><h2 id="5-关键——在-ssh-目录下新建或者修改config文件"><a href="#5-关键——在-ssh-目录下新建或者修改config文件" class="headerlink" title="5.关键——在~&#x2F;.ssh&#x2F; 目录下新建或者修改config文件"></a>5.关键——在~&#x2F;.ssh&#x2F; 目录下新建或者修改config文件</h2><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/2_16_56_57_202407021656372.png"></p><p>内容输入：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-comment"># 配置gitee.com</span><br>Host gitee.com                 <br>    HostName gitee.com    <br>    IdentityFile C:\\Users\\用户名\\.ssh\\a_rsa<br>    PreferredAuthentications publickey<br>    <span class="hljs-keyword">User</span> <span class="hljs-title">username1</span><br><br><span class="hljs-comment"># 配置github.com</span><br>Host github.com<br>HostName github.com  <br>    IdentityFile C:\\Users\\用户名\\.ssh\\b_rsa<br>    PreferredAuthentications publickey<br>    <span class="hljs-keyword">User</span> <span class="hljs-title">username2</span><br></code></pre></td></tr></table></figure><p>注：</p><ul><li>HostName 是主机名</li><li>IdentityFile 是密钥文件</li><li>PreferredAuthentications publickey 优先使用 ssh</li><li>User 用户名（可忽略）</li></ul><p>可以根据自己密钥的适量进行增加或者删除</p><h2 id="6-部署-SSH-key"><a href="#6-部署-SSH-key" class="headerlink" title="6.部署 SSH key"></a>6.部署 SSH key</h2><p>拷贝 ~&#x2F;.ssh&#x2F;a_rsa.pub 和 ~&#x2F;.ssh&#x2F;b_rsa.pub 文件里面的内容, 然后打开对应的托管平台设置ssh-keys密钥的页面，把复制的内容粘贴进来就好了。</p><p>这里以 gitee为例：</p><p><img src="https://gitlab.com/jjzc/images/raw/main/pictures/2024/07/2_17_5_36_202407021705251.png"></p><p>标题可随意输入</p><p> ~&#x2F;.ssh&#x2F;a_rsa.pub 内容粘贴在 “公钥” 栏中</p><p>点击 “确定” 创建完成</p><h2 id="7-测试-SSH-链接"><a href="#7-测试-SSH-链接" class="headerlink" title="7.测试 SSH 链接"></a>7.测试 SSH 链接</h2><p>测试 config 文件设置的 git 账号是否与托管平台的密钥部署设置成功</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> -T git<span class="hljs-variable">@gitee</span>.com<br>ssh -T git<span class="hljs-variable">@github</span>.com<br></code></pre></td></tr></table></figure><p>若出现下面语句，表明链接成功</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># xxx! You’ve successfully authenticated, but GitHub does not provide bash access.</span><br></code></pre></td></tr></table></figure></div><hr><div align = "center"><ul><li>本文作者原创，版权归作者所有，任何形式转载请联系授权，未经授权，转载必究！！！</li></ul></div>]]></content>
    
    
    <categories>
      
      <category>配置教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win, .ssh</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>渗透测试 理解+摘录</title>
    <link href="/2022/12/26/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%20%E7%90%86%E8%A7%A3%E5%8F%8A%E6%91%98%E5%BD%95/"/>
    <url>/2022/12/26/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%20%E7%90%86%E8%A7%A3%E5%8F%8A%E6%91%98%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h1 id="渗透测试-理解-摘录"><a href="#渗透测试-理解-摘录" class="headerlink" title="渗透测试 理解+摘录"></a>渗透测试 理解+摘录</h1><span id="more"></span><p>渗透测试，是一套技术过程和方法论，是技术专家模拟一些“黑帽子”的动作和技术去尝试利用网络或信息系统。测试人员在具体和授权的指导原则下尝试规避信息系统的防护措施所使用的的方法、过程和规程，包括突破系统集成的安全特性。这种测试与技术评估、管理、操作设置和系统控制有关。通常情况下，仅评估信息系统建立时的安全性。目标网络系统管理员和技术人员或许不知道渗透测试正在进行。</p><p>在实践中有众多不同的渗透测试生命周期模型。目前为止我了解到的，认可较多的是EC-Council Certified Ethical Hacker定义和使用的方法和生命周期。整个过程包含五个阶段：侦察、扫描、获取访问、维持访问以及清除痕迹。</p>]]></content>
    
    
    <categories>
      
      <category>理解摘录</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透测试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>激活函数的实验分析</title>
    <link href="/2022/06/05/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E9%AA%8C%E5%88%86%E6%9E%90/"/>
    <url>/2022/06/05/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E9%AA%8C%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<p>卷积神经网络中经常使用的激活函数有：Sigmoid函数、Tanh函数、ReLU函数、Softmax函数等，本文就关于这四类函数及其梯度图像进行对比分析，话不多说，上代码，看图！</p><span id="more"></span><h2 id="开始实验"><a href="#开始实验" class="headerlink" title="开始实验"></a>开始实验</h2><h3 id="1-Sigmoid函数"><a href="#1-Sigmoid函数" class="headerlink" title="1.Sigmoid函数"></a>1.Sigmoid函数</h3><p>函数代码及图像：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sigmoid</span>(<span class="hljs-params">x</span>):<br>    y=<span class="hljs-number">1</span>/(<span class="hljs-number">1</span>+np.exp(-x))<br>    <span class="hljs-keyword">return</span> y<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_sigmoid</span>():<br>    x=np.arange(-<span class="hljs-number">8</span>,<span class="hljs-number">8</span>,<span class="hljs-number">0.2</span>)<br>    y=sigmoid(x)<br>    plt.plot(x,y)<br>    plt.show()<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    plot_sigmoid()xxxxxxxxxx <span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> npimport matplotlib.pyplot <span class="hljs-keyword">as</span> pltdef sigmoid(x):    y=<span class="hljs-number">1</span>/(<span class="hljs-number">1</span>+np.exp(-x))    <span class="hljs-keyword">return</span> ydef plot_sigmoid():    x=np.arange(-<span class="hljs-number">8</span>,<span class="hljs-number">8</span>,<span class="hljs-number">0.2</span>)    y=sigmoid(x)    plt.plot(x,y)    plt.show()<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:    plot_sigmoid()$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span>bash<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/05/z4kbL2DeAOviFKZ.png"></p><p>Sigmoid梯度函数代码及图像</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_sigmoid</span>():<br>    x = np.arange(-<span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0.2</span>)<br>    y = <span class="hljs-number">1</span>/(<span class="hljs-number">1</span>+np.exp(-x))<br>    dy = y*(<span class="hljs-number">1</span>-y)<br>    plt.plot(x, y, label=<span class="hljs-string">&#x27;Sigmoid&#x27;</span>, linestyle=<span class="hljs-string">&#x27;-&#x27;</span>, color=<span class="hljs-string">&#x27;red&#x27;</span>)<br>    plt.plot(x, dy, label=<span class="hljs-string">&#x27;Sigmoid derivative&#x27;</span>, linestyle=<span class="hljs-string">&#x27;-&#x27;</span>, color=<span class="hljs-string">&#x27;green&#x27;</span>)<br>    plt.legend([<span class="hljs-string">&#x27;Sigmoid&#x27;</span>, <span class="hljs-string">&#x27;Sigmoid derivative&#x27;</span>])<br>    plt.show()<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    plot_sigmoid()<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/05/DN9UHYWBrI7e5kM.png"></p><h3 id="2-Tanh函数"><a href="#2-Tanh函数" class="headerlink" title="2.Tanh函数"></a>2.Tanh函数</h3><p>函数代码及图像</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_tanh</span>():<br>    x = np.arange(-<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0.1</span>)<br>    y = ((math.e ** (x) - math.e ** (-x)) / (math.e ** (x) + math.e ** (-x)))<br>    plt.xlim(-<span class="hljs-number">4</span>, <span class="hljs-number">4</span>)<br>    plt.ylim(-<span class="hljs-number">1</span>, <span class="hljs-number">1.2</span>)<br>    ax = plt.gca()<br>    ax.spines[<span class="hljs-string">&#x27;right&#x27;</span>].set_color(<span class="hljs-string">&#x27;none&#x27;</span>)<br>    ax.spines[<span class="hljs-string">&#x27;top&#x27;</span>].set_color(<span class="hljs-string">&#x27;none&#x27;</span>)<br>    ax.xaxis.set_ticks_position(<span class="hljs-string">&#x27;bottom&#x27;</span>)<br>    ax.yaxis.set_ticks_position(<span class="hljs-string">&#x27;left&#x27;</span>)<br>    ax.spines[<span class="hljs-string">&#x27;bottom&#x27;</span>].set_position((<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-number">0</span>))<br>    ax.spines[<span class="hljs-string">&#x27;left&#x27;</span>].set_position((<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-number">0</span>))<br>    plt.plot(x,y)<br>    plt.show()<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    plot_tanh()<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/05/LHYwfVR1SCpWGFN.png"></p><p>Tanh梯度函数代码及图像</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_tanh</span>():<br>    x = np.arange(-<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">0.1</span>)<br>    y = ((math.e**(x)-math.e**(-x))/(math.e**(x)+math.e**(-x)))<br>    dy = <span class="hljs-number">1</span>-y*y<br>    plt.xlim(-<span class="hljs-number">4</span>,<span class="hljs-number">4</span>)<br>    plt.ylim(-<span class="hljs-number">1</span>,<span class="hljs-number">1.2</span>)<br>    ax = plt.gca()<br>    ax.spines[<span class="hljs-string">&#x27;right&#x27;</span>].set_color(<span class="hljs-string">&#x27;none&#x27;</span>)<br>    ax.spines[<span class="hljs-string">&#x27;top&#x27;</span>].set_color(<span class="hljs-string">&#x27;none&#x27;</span>)<br>    ax.xaxis.set_ticks_position(<span class="hljs-string">&#x27;bottom&#x27;</span>)<br>    ax.yaxis.set_ticks_position(<span class="hljs-string">&#x27;left&#x27;</span>)<br>    ax.spines[<span class="hljs-string">&#x27;bottom&#x27;</span>].set_position((<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-number">0</span>))<br>    ax.spines[<span class="hljs-string">&#x27;left&#x27;</span>].set_position((<span class="hljs-string">&#x27;data&#x27;</span>,<span class="hljs-number">0</span>))<br>    plt.plot(x,y, label=<span class="hljs-string">&#x27;Tanh&#x27;</span>, linestyle=<span class="hljs-string">&#x27;-&#x27;</span>, color=<span class="hljs-string">&#x27;red&#x27;</span>)<br>    plt.plot(x,dy, label=<span class="hljs-string">&#x27;Tanh derivative&#x27;</span>, linestyle=<span class="hljs-string">&#x27;-&#x27;</span>, color=<span class="hljs-string">&#x27;green&#x27;</span>)<br>    plt.legend([<span class="hljs-string">&#x27;Tanh&#x27;</span>,<span class="hljs-string">&#x27;Tanh derivative&#x27;</span>])<br>    plt.show()<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    plot_tanh()<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/05/oCKGuz8SbDgpnX7.png"></p><h3 id="3-ReLU函数"><a href="#3-ReLU函数" class="headerlink" title="3.ReLU函数"></a>3.ReLU函数</h3><p>函数代码及图像</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">relu</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> np.maximum(<span class="hljs-number">0</span>,x)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_relu</span>():<br>    x = np.arange(-<span class="hljs-number">5.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">0.1</span>)<br>    plt.ylim([-<span class="hljs-number">1.0</span>, <span class="hljs-number">5.5</span>])<br>    y = relu(x)<br>    plt.plot(x,y)<br>    plt.show()<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    plot_relu()<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/05/PJz3bokKDCWyFZO.png"></p><p>ReLU梯度函数代码及图像</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_relu</span>():<br>    x = np.arange(-<span class="hljs-number">2.5</span>, <span class="hljs-number">2.5</span>, <span class="hljs-number">0.1</span>)<br>    plt.ylim([-<span class="hljs-number">0.5</span>, <span class="hljs-number">2.0</span>])<br>    y = np.maximum(<span class="hljs-number">0</span>,x)<br>    plt.plot(x,y,label=<span class="hljs-string">&#x27;ReLU&#x27;</span>,color=<span class="hljs-string">&#x27;red&#x27;</span>)<br><br>    x1 = np.linspace(-<span class="hljs-number">2</span>,<span class="hljs-number">0</span>)<br>    y1 = np.linspace(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)<br>    plt.plot(x1,y1,label=<span class="hljs-string">&#x27;ReLU derivative&#x27;</span>,color=<span class="hljs-string">&#x27;green&#x27;</span>)<br>    x2 = np.linspace(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>)<br>    y2 = np.linspace(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>    plt.plot(x2,y2,label=<span class="hljs-string">&#x27;ReLU derivative&#x27;</span>,color=<span class="hljs-string">&#x27;green&#x27;</span>)<br>    x3 = np.linspace(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)<br>    y3 = np.linspace(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)<br>    plt.plot(x3,y3,label=<span class="hljs-string">&#x27;ReLU derivative&#x27;</span>,color=<span class="hljs-string">&#x27;green&#x27;</span>)<br><br>    plt.legend([<span class="hljs-string">&#x27;Sigmoid&#x27;</span>, <span class="hljs-string">&#x27;Sigmoid derivative&#x27;</span>])<br>    plt.show()<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    plot_relu()<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/06/05/PXeWS85u1IZOGnd.png"></p><h3 id="4-Softmax函数"><a href="#4-Softmax函数" class="headerlink" title="4.Softmax函数"></a>4.Softmax函数</h3><p>Softmax函数多用于分类任务使用，故Softmax函数也可称为归一化指数函数，这是二分类函数Sigmoid函数在多分类上的推广，目的就是将多分类的结果以概率的形式展现出来。</p><p>Softmax函数的核心在于soft，与之相对应的是Hardmax函数，很多场景之下我们都需要找出数组所有元素中值最大的元素，实质上都是在求Hardmax函数。Hardmax函数最大的特点就是只选出其中一个最大的值，也即非黑即白，然而在实际应用中这种方式并不是很适用，比如对于文本分类，一篇文章中或多或少会包含着各种主题信息，我们更期望得到文章对于每个可能的文本类别的概率值（置信度），也可以理解为属于对应类别的可信度，所以此时就用到了Softmax函数，该函数的含义就在于不再唯一的确定某一个最大值，而是为每一个输出分类的结果都赋予一个概率值，表示属于每个类别的可能性。</p><p>Softmax函数可以将输出映射到0至1区间内，输出值累加为1，即输出值可看作是概率最大的值。由于是计算概率值，所以无法绘制函数图像。</p>]]></content>
    
    
    <categories>
      
      <category>Artificial Intelligence</category>
      
    </categories>
    
    
    <tags>
      
      <tag>激活函数</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>记Gitee+PicGo失败原因</title>
    <link href="/2022/05/29/%E8%AE%B0gitee+picgo%E5%A4%B1%E8%B4%A5%E5%8E%9F%E5%9B%A0/"/>
    <url>/2022/05/29/%E8%AE%B0gitee+picgo%E5%A4%B1%E8%B4%A5%E5%8E%9F%E5%9B%A0/</url>
    
    <content type="html"><![CDATA[<p>记gitee+picgo失败原因</p><span id="more"></span><h2 id="1-原因"><a href="#1-原因" class="headerlink" title="1.原因"></a>1.原因</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><p>许久未使用picgo了，今天打开picgo，发现需要更新正式版，期待这个正式版很久了！！！</p><p>快速更新之后，试图往gitee上传图片，发现进度条结束后，gitee中并没有上传的图片，picgo中的相册里也没有，最关键的是picgo尽然没有任何报错信息！</p><p>无奈之余，开始了百度之旅…………………………….按照百度的各种方法实验后均没有效果，图片依然无法上传，我决定去picgo找原因，在“日志文件”中，我发现了其中的猫腻，看图：</p><p><img src="https://raw.githubusercontent.com/lamborcola/image/main/picgo%E6%8A%A5%E9%94%99%E4%BF%A1%E6%81%AF.jpg"></p><p><strong>图中的403即：HTTP 403 Forbidden 是“拒绝访问”，出现403表示服务器接收到了本次的请求，但是拒绝响应，拒绝执行该任务！</strong></p><p>尝试更换了Token，依然是同样的报错信息；</p><p>更换gitee账号，再次上传，同样的报错信息；</p><p>安装所有gitee相关的插件，依旧出错；</p><p>个人猜测，gitee对picgo的上传作出了限制；</p><h3 id="2-解决方案"><a href="#2-解决方案" class="headerlink" title="2.解决方案"></a>2.解决方案</h3><p>目前来看，这个问题误解，可以更换图床，或者自己搭建一个。</p>]]></content>
    
    
    <categories>
      
      <category>Recode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Gitee PicGo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JDK安装及配置</title>
    <link href="/2021/07/08/JDK%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE/"/>
    <url>/2021/07/08/JDK%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="JDK安装及配置"><a href="#JDK安装及配置" class="headerlink" title="JDK安装及配置"></a>JDK安装及配置</h2><span id="more"></span><h3 id="1-下载"><a href="#1-下载" class="headerlink" title="1.下载"></a>1.下载</h3><ul><li><p>JDK官网下载地址：</p><p>[ORACLE]: <a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a>“ORACLE”<br>[OPENJDK]: <a href="http://openjdk.java.net/projects/jdk/">http://openjdk.java.net/projects/jdk/</a>“openJDK”</p></li></ul><h3 id="2-安装"><a href="#2-安装" class="headerlink" title="2.安装"></a>2.安装</h3><p>1.双击安装包进行安装</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/1.png"></p><p>2.点击下一步</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/2.png"></p><p>3.选择安装位置（可自由选择）</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/3.png"></p><p>4.点击“安装”进行安装</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/4.png"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/5.png"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/6.png"></p><h3 id="3-配置"><a href="#3-配置" class="headerlink" title="3.配置"></a>3.配置</h3><p>1.在Windows10操作系统中，“我的电脑”右键，选择属性</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/7.png"></p><p>2.选择“高级系统设置”</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/8.png"></p><p>3.选择“环境变量”</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/9.png"></p><p>4.设置“系统变量”，选择“新建”</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/10.png"></p><ul><li>新建变量：</li><li>变量名：JAVA_HOME</li><li>变量值：JDK 根目录</li><li>变量名：CLASSPATH</li><li>变量值：.;% JAVA_HOME%\lib\dt.jar;% JAVA_HOME%\lib\tools.jar;</li></ul><p>5.设置“Path”</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/11.png"></p><ul><li>点击新建，输入 % JAVA_HOME%\bin、% JAVA_HOME%\jre\bin</li><li>点击确定</li></ul><h3 id="4-验证安装"><a href="#4-验证安装" class="headerlink" title="4.验证安装"></a>4.验证安装</h3><blockquote><p>“win+R”输入”cmd“打开命令窗口</p><p>输入“java -version”、”java“、”javac“，若出现以下界面即证明安装成功</p></blockquote><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/javaversion.png"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/java.png"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/javac.png"></p>]]></content>
    
    
    <categories>
      
      <category>安装教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>a+b=c</title>
    <link href="/2021/06/05/a+b=c/"/>
    <url>/2021/06/05/a+b=c/</url>
    
    <content type="html"><![CDATA[<h2 id="a-b-c"><a href="#a-b-c" class="headerlink" title="a+b&#x3D;c"></a>a+b&#x3D;c</h2><span id="more"></span><h3 id="JAVA解析"><a href="#JAVA解析" class="headerlink" title="JAVA解析"></a>JAVA解析</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span>&#123;<br>        <span class="hljs-type">int</span> A=<span class="hljs-number">0</span>,B=<span class="hljs-number">0</span>,C=<span class="hljs-number">0</span>,D=<span class="hljs-number">0</span>;<br>        System.out.println(<span class="hljs-string">&quot;A:&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;B:&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;C:&quot;</span>);<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        A=data.nextInt();<br>        B=data.nextInt();<br>        D=data.nextInt();<br>        C=A+B;<br>        <span class="hljs-keyword">if</span>(D!=C)&#123;<br>            System.out.println(<span class="hljs-string">&quot;抱歉，你算错了&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            System.out.println(<span class="hljs-string">&quot;恭喜你答对了&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Python解析"><a href="#Python解析" class="headerlink" title="Python解析"></a>Python解析</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">a=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入a:&quot;</span>));<br>b=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入b:&quot;</span>));<br>c=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入c:&quot;</span>));<br><span class="hljs-built_in">sum</span>=a+b;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">sum</span>!=c):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;抱歉，你算错了&quot;</span>);<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;恭喜你答对了&quot;</span>);xxxxxxxxxx a=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入a:&quot;</span>));b=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入b:&quot;</span>));c=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入c:&quot;</span>));<span class="hljs-built_in">sum</span>=a+b;<span class="hljs-keyword">if</span>(<span class="hljs-built_in">sum</span>!=c):    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;抱歉，你算错了&quot;</span>);<span class="hljs-keyword">else</span>:    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;恭喜你答对了&quot;</span>);$ hexo serverbash<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>墨九屿</title>
    <link href="/2020/06/08/%E5%A2%A8%E4%B9%9D%E5%B1%BF/"/>
    <url>/2020/06/08/%E5%A2%A8%E4%B9%9D%E5%B1%BF/</url>
    
    <content type="html"><![CDATA[<div align = "center"><span id="more"></span><p>小猫乖乖，</p><p>一觉醒来，</p><p>已非昨天：</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/images/20200606113759.jpg"></p><p>满腹经纶，</p><p>帅男嫉妒，</p><p>靓女青睐，</p><p>抛个媚眼，</p><p>世界惊叹！</p><p>那时男儿，</p><p>心里坦然。</p><p>无愧于我，</p><p>人生超然！</p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/images/20200606113325.jpg"></p></div><hr><div align = "center"><ul><li>本文作者原创，版权归作者所有，任何形式转载请联系授权，未经授权，转载必究！！！</li></ul></div>]]></content>
    
    
    <categories>
      
      <category>family</category>
      
    </categories>
    
    
    <tags>
      
      <tag>poet</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>精美图片</title>
    <link href="/2020/06/06/%E5%9B%BE%E7%89%87/"/>
    <url>/2020/06/06/%E5%9B%BE%E7%89%87/</url>
    
    <content type="html"><![CDATA[<p>上传图片</p><p>精美图片</p><span id="more"></span><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/images/20200606113325.jpg"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/images/20200606113738.jpg"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/images/20200606113753.jpg"></p><p><img src="https://gitee.com/lamjjzc/picgo/raw/master/images/20200606113759.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>Picture</category>
      
    </categories>
    
    
    <tags>
      
      <tag>image</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>让阳光照进生命</title>
    <link href="/2020/06/05/%E8%AE%A9%E9%98%B3%E5%85%89%E7%85%A7%E8%BF%9B%E7%94%9F%E5%91%BD/"/>
    <url>/2020/06/05/%E8%AE%A9%E9%98%B3%E5%85%89%E7%85%A7%E8%BF%9B%E7%94%9F%E5%91%BD/</url>
    
    <content type="html"><![CDATA[<p>　   我喜欢阳光，喜欢阳光下推开的每一扇温暖的心窗。</p><span id="more"></span><p>　　坐在窗前翻阅阳光，一页页的梦想就会生出翅膀，在蓝天和白云之间自由的飞翔。曾经寂寞的盘旋，曾经起落的创伤，都会在阳光下找到可以歇落疲惫的方向，都可以找到舔食修复的地方。</p><p>　　翻阅阳光，就有了春天的希望，即使刚让北风刮得遍体鳞伤，也会让泪水和微笑一起在阳光里飞扬。</p><p>　　阳光让心胸变得宽阔，让脆弱的生命变得顽强。闭上眼睛，用一颗清澈的心去聆听阳光，每一页都会有潺潺的水声，每一段都会有小鸟明亮的歌唱。</p><p>　　翻阅阳光，把晴朗的天空装进纯净的胸膛，让淋湿的故事重新象花朵一样的绽放。阳光让黑夜不再刺伤眼睛，阳光让青涩的季节长成丰盈的金黄。阳光让苦难顺流而下，阳光让忧伤淡成一两片白帆消失在曾经苍茫的远方。748219美文网</p><p>　　翻阅阳光，去听种子顶破土地的炸响，把枯朽的树木摇曳成绿色的海洋。翻阅阳光，不再怕零落的枝干濒临衰老的终结，不再怕青春的脚步踏出时间的长廊。只要心存阳光，生命就会再次的繁衍，再次的怒放。到那时啊，一缕缕，一弯弯，一浪浪都将是迭荡喧腾的新绿，都将是无法阻挡，无法摧毁的蓬勃和茁壮。</p><p>　　也许有一天，明媚的阳光会被翻阅成日暮西山，落叶夕阳。也许有一天，站立的生命也会倒成一粒泥土，或一抹暗淡的灰黄。无悔的是：我们曾经在阳光里走过，曾经用最真挚的心翻阅过最炽热的阳光。我们曾经在阳光的照耀下幸福的生长，曾经在阳光的合声里和所有的生命一起快乐的歌唱。</p><p>　　翻阅阳光就是翻阅生命，翻阅生命就是让每一个日子都充满温暖，都充满美丽的阳光。</p>]]></content>
    
    
    <categories>
      
      <category>Passage</category>
      
    </categories>
    
    
    <tags>
      
      <tag>passage</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
